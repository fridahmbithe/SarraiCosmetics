(()=>{var e=Object.defineProperty,t={};((t,n)=>{for(var a in n)e(t,a,{get:n[a],enumerable:!0})})(t,{competitorData:()=>w,contentFeedback:()=>b,continueWriting:()=>C,countryList:()=>a,createHistoryUrl:()=>s,expandOutline:()=>R,genieMode:()=>E,getLicenseToken:()=>f,historyData:()=>r,keywordsData:()=>g,limitUsage:()=>v,outlines:()=>u,removeLicenseToken:()=>y,storeApiUrl:()=>h,updateUsageUrl:()=>c,userList:()=>n,writeIntro:()=>d,writeTemplates:()=>m,writeTitle:()=>p});var n="https://raw.githubusercontent.com/xs-salekin/data-store/main/user_list.json",a="https://raw.githubusercontent.com/xs-salekin/data-store/main/countries.json",l=window.getGenie.config,o=l.parserApi,i=l.licenseApi,r=l.historyApi+"list",s=l.historyApi+"create",c=l.baseApi+"user_usage_log",m=o+"writer-default/generate-templates-content",d=o+"writer-wizard/generate-intro",p=o+"writer-wizard/generate-title",u=o+"writer-wizard/generate-outline",g=o+"writer-wizard/keyword-doctor",w=o+"writer-wizard/serp-data",C=o+"advanced-writing/continue-writing",R=o+"advanced-writing/outline-expand",E=o+"advanced-writing/genie-mode",b=l.feedbackApi,h=l.storeApi+window.getGenie.blogWizardData?.post_id,f=i+"get-token",y=i+"remove-token",v=l.usageLimitStatsApi,{notification:k}=window.antd,{Modal:S}=window.antd,T=new class{storeTimeout={};callStoreApi(e,n){fetch(t.storeApiUrl+"/"+e+"/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8","X-WP-Nonce":window.getGenie.config?.restNonce||""}})}storeData=e=>{this.storeTimeout[e]&&clearTimeout(this.storeTimeout[e]),this.storeTimeout[e]=setTimeout((()=>{const t=wp.data.select("getgenie").getInputs();this.callStoreApi(e,t[e]||"")}),3e3)};copyToClipboard(e){if(navigator?.clipboard&&window?.isSecureContext)return navigator.clipboard.writeText(e);{let t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise(((e,n)=>{document.execCommand("copy")?e():n(),t.remove()}))}}formatLargeNumber(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0}saveCurrentLanguage(e){localStorage.setItem("getgenie-language",JSON.stringify(e)),wp.data.dispatch("getgenie").setSidebar({currentLanguage:e})}saveCurrentToneOfVoice(e){localStorage.setItem("getgenie-toneOfVoice",JSON.stringify(e)),wp.data.dispatch("getgenie").setSidebar({currentToneOfVoice:e})}camelCaseToTitleCase(e){const t=e.replace(/([A-Z])/g," $1").trim();return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}hyphenatedToCamelCase(e){return e.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))}},{Form:N,Button:x}=window.antd,{Form:I,DatePicker:L}=window.antd,{useEffect:M,useState:G}=wp.element,{ComposeComponents:H}=window.getGenie.Components.Common.ReduxManager,{RangePicker:O}=L,{Modal:D}=(H((({setInput:e,getInputs:t,label:n="",name:a="",required:l=!1})=>{const[o,i]=G(!1);let r=t[a]||[];return M((()=>{e(a,r)}),[]),React.createElement("div",{className:"getgenie-daterange"},React.createElement(I.Item,{label:n||"RangePicker"},React.createElement(O,{name:a,className:a,onChange:(t,n)=>{e(a,n),n.length?i(!1):i(!0)}})))}),["setInput","getInputs"]),window.antd),{Tooltip:F}=window.antd,V=({size:e=25})=>React.createElement("div",{style:{width:`${e}px`,height:`${e}px`},className:"loading-api"}),{ComposeComponents:_}=window.getGenie.Components.Common.ReduxManager,{Select:z,Form:A}=window.antd,{Option:W}=z,{useEffect:P}=wp.element,{ComposeComponents:B}=(_((({options:e,setInput:t,sidebar:n,getInputs:a,except:l=[],disableList:o=[],name:i="",defaultValue:r="",label:s="",placeholder:c="",className:m="",handleOnChange:d=(()=>""),onSearch:p=(()=>{}),...u})=>{let g=e;let w=a[i]||r||null;return P((()=>{t(i,w)}),[n.currentTemplate]),l&&l.length>0&&(g=e.filter((e=>!l.includes(e.value))),l.includes(w)&&(w=g?.[0]?.value)),React.createElement(A.Item,{label:s,className:m},React.createElement(z,{showSearch:!0,value:w,placeholder:c,...u,name:i,notFoundContent:u?.loading?React.createElement(V,{width:25}):null,suffixIcon:React.createElement("span",{className:"getgenie-icon-arrow_down"}),onChange:e=>{d(e),t(i,e)},onSearch:p,onKeyDown:e=>e.stopPropagation(),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0,getPopupContainer:e=>e.parentNode},g.map((e=>React.createElement(W,{disabled:o.includes(e.value),value:e.value},e.label)))))}),["setInput","getInputs","sidebar"]),window.getGenie.Components.Common.ReduxManager),{Input:U,Form:j}=window.antd,{useEffect:q}=wp.element,{Row:$,Col:K,Card:Z}=(B((({name:e,setInput:t,sidebar:n,getInputs:a,className:l="",label:o="",defaultValue:i="",errorMessage:r="",...s})=>{q((()=>{t(e,a[e]||i)}),[]);let c=a[e]||i;const m=n.languages.find((e=>e.value===n.currentLanguage))?.writingDirection;return React.createElement(j.Item,{label:o,key:e,className:`genie-input ${l}`},React.createElement(U.TextArea,{...s,className:m,value:c,onChange:n=>{t(e,n.target.value)},onKeyDown:e=>e.stopPropagation()}))}),["setInput","getInputs","sidebar"]),window.antd),{ComposeComponents:J}=window.getGenie.Components.Common.ReduxManager,{useState:X,useEffect:Q}=wp.element,{Button:Y,Tooltip:ee}=(J((({list:e,children:t,column:n=1,handleClick:a,sidebar:l,setSidebar:o,skeleton:i=null,showActiveItem:r=!1,loading:s=!1,value:c="",...m})=>{const[d,p]=X(null);let u=24/n;n>2?u=24/(n-2):n>1&&(u=24/(n-1)),Q((()=>{if(r&&c){const t=e.findIndex((e=>e.title===c));-1!==t&&p(t+"-selected")}}),[]);Q((()=>{0===e.length&&p(null)}),[e]);const g=l.languages.find((e=>e.value===l.currentLanguage))?.writingDirection;return i?React.createElement(i,null):React.createElement("div",{className:"getgenie-card"},React.createElement($,{gutter:16},e.map(((e,l)=>React.createElement(K,{xs:24,sm:u,xl:24/n,key:l,className:g},React.createElement(Z,{className:d&&d===l+"-selected"?"active":"",key:l,onClick:t=>((e,t,n)=>{p(n+"-selected"),a&&a(e,t)})(t,e,l),...m},t(e)))))))}),["sidebar","setSidebar"]),window.antd),{ComposeComponents:te}=window.getGenie.Components.Common.ReduxManager,{__:ne}=wp.i18n,{Popover:ae}=(te((({sidebar:e,setSidebar:t,prevScreen:n,nextScreen:a,enableNextBtn:l,enableWriteBtn:o,loading:i=!1,insertData:r=(()=>"")})=>React.createElement("div",{className:`getgenie-sidebar-footer ${n&&"getgenie-sidebar-footer-grid"}`},n&&React.createElement(Y,{type:"primary",onClick:()=>{"OutlineScreen"===e.component&&t({generatedOutlines:{...e.generatedOutlines,open:!1}}),t({component:n})},className:"prevBtn"},React.createElement("span",{className:"getgenie-icon-Arrow"})),React.createElement("div",{className:"btnGrp"},a&&React.createElement(Y,{type:"primary",onClick:()=>{t({component:a})},disabled:!l,className:"nextBtn"},ne("Next","getgenie")),(!0===o||!1===o)&&React.createElement(ee,{title:ne("Insert selected outlines as headings","getgenie"),placement:"topLeft"},React.createElement(Y,{type:"primary",onClick:r,size:"small",disabled:!o||i,className:"insertBtn"},ne("Insert","getgenie")))))),["sidebar","setSidebar"]),window.antd),{useState:le}=wp.element,{ComposeComponents:oe}=window.getGenie.Components.Common.ReduxManager,{Input:ie,Form:re}=window.antd,{useEffect:se,useState:ce}=wp.element,{Typography:me,Tooltip:de}=(oe((({name:e,sidebar:t,setInput:n,getInputs:a,autoComplete:l="off",className:o="",defaultValue:i="",label:r="",required:s=!1,errorMessage:c="",...m})=>{const[d,p]=ce(!1);se((()=>{n(e,a[e]||i)}),[]);let u=a[e]||i;const g=t.languages.find((e=>e.value===t.currentLanguage))?.writingDirection;return React.createElement(re.Item,{className:`genie-input ${o} ${s&&d&&!u&&"ant-form-item-has-error"}`,label:r},React.createElement(ie,{className:g,value:u,name:e,...m,onChange:t=>{const a=t.target.value;n(e,a),a.length?p(!1):p(!0)},onKeyDown:e=>e.stopPropagation()}),s&&d&&!u?React.createElement("p",{className:"ant-form-item-explain-error"},c):"")}),["setInput","getInputs","sidebar"]),window.antd),{__:pe}=wp.i18n,{Collapse:ue}=window.antd,{Panel:ge}=ue,{Button:we,Col:Ce,Row:Re}=window.antd,{ComposeComponents:Ee}=window.getGenie.Components.Common.ReduxManager,{Col:be,Row:he,Switch:fe}=(Ee((({sidebar:e,setSidebar:t,getInputs:n,setInput:a})=>{const{imageUrl:l}=e,o=n.searchVolume,i=n.seoEnabled;return React.createElement("div",{className:"getgenie-sidebar-header"},React.createElement(Re,null,React.createElement(Ce,{span:20},React.createElement("img",{className:"main-logo",src:`${l}/Genie_logo_black.svg`,alt:"logo"}),"IntroScreen"!==e.component&&"OutlineScreen"!==e.component||!o?React.createElement("div",{className:"empty-btn-space"}):React.createElement(we,{onClick:()=>{a("seoEnabled",!i)},shape:"round",className:"getgenie-sidebar-header-seoBtn"},React.createElement("img",{src:`${l}/badge.png`,alt:"logo"}),"SEO ",i?"Enabled":"Disabled")),React.createElement(Ce,{span:4,className:"getgenie-close-btn"},React.createElement("span",{onClick:()=>{t({open:!1})}},React.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M10 1.00714L8.99286 0L5 3.99286L1.00714 0L0 1.00714L3.99286 5L0 8.99286L1.00714 10L5 6.00714L8.99286 10L10 8.99286L6.00714 5L10 1.00714Z",fill:"#323232"}))))))}),["setSidebar","sidebar","getInputs","setInput"]),window.antd),{ComposeComponents:ye}=window.getGenie.Components.Common.ReduxManager,{useEffect:ve}=wp.element,{Skeleton:ke}=(ye((({getInputs:e,setInput:t,defaultChecked:n=!1,className:a="",name:l="",label:o="",...i})=>{let r=e[l]||n;return ve((()=>{t(l,r)}),[]),React.createElement(he,{justify:"space-between",className:`getgenie-switch ${a}`},React.createElement(be,{span:12,className:"label"},o),React.createElement(be,{span:8,className:"switch"},React.createElement(fe,{name:l,checked:r,...i,onChange:e=>{t(l,e)}})))}),["setInput","getInputs"]),window.antd),{Card:Se,Skeleton:Te}=window.antd,{Modal:Ne}=window.antd,{Modal:xe}=window.antd,{useState:Ie,useEffect:Le,useCallback:Me}=wp.element,{Drawer:Ge}=window.antd,{ComposeComponents:He}=window.getGenie.Components.Common.ReduxManager,Oe=null,{Table:De}=(He((({children:e,sidebar:t,setSidebar:n})=>{const[a,l]=Ie(380),{open:o,generatedOutlines:i,analyzeKeyword:r}=t,s=Me((function(e){let t=document.body.offsetWidth-(e.clientX-document.body.offsetLeft);t>300&&t<1200&&l(t)}),[]),c=Me((function(e){if(!Oe)return;Oe=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)}),[]);return Le((()=>{r.open&&!i.open&&l(710),i.open&&!r.open&&l(660),i.open&&r.open&&l(990),!i.open&&!r.open&&l(380)}),[t.analyzeKeyword.open,t.generatedOutlines.open]),React.createElement(Ge,{className:"getgenie-drawer",width:a,onClose:()=>{n({open:!1})},visible:o,closable:!1,zIndex:1002},e(a),React.createElement("div",{className:"getgenie-sidebar-draggable",onMouseDown:function(e){e.stopPropagation(),e.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("mouseup",c),Oe=!0}}))}),["sidebar","setSidebar"]),window.antd),{ComposeComponents:Fe}=window.getGenie.Components.Common.ReduxManager,{Input:Ve,Form:_e}=window.antd,{useEffect:ze}=wp.element,{Slider:Ae,Form:We,Badge:Pe}=(Fe((({name:e,setInput:t,getInputs:n,sidebar:a,defaultValue:l=1,max:o=null,label:i="",placeholder:r="",type:s="text",required:c=!1,errorMessage:m="",className:d="",...p})=>{let u=n[e]||l;const g=n=>{isNaN(n)||o&&n>o||t(e,n)};ze((()=>g(n[e]||u)),[a.currentTemplate]);const w=n=>{if(p?.disabled)return;if(1===u&&-1===n)return;let a=parseInt(u)+parseInt(n);o&&a>o||t(e,a)};return React.createElement(_e.Item,{initialValue:u,className:`NumberInput ${d}`,label:i,name:e,rules:[{required:c,message:m}]},React.createElement("span",{className:"getgenie-icon-minus1 icon",onClick:()=>w(-1)}),React.createElement(Ve,{...p,type:s,placeholder:r,value:u,defaultValue:u,onChange:e=>g(e.target.value)}),React.createElement("span",{className:"getgenie-icon-plus icon",onClick:()=>w(1)}))}),["setInput","getInputs","sidebar"]),window.antd),{ComposeComponents:Be}=window.getGenie.Components.Common.ReduxManager,{useEffect:Ue}=wp.element,{HandleFetch:je}=(Be((({label:e,name:t,setInput:n,getInputs:a,sidebar:l,defaultValue:o,message:i,className:r="",...s})=>{let c=s.max||5,m=s.min||1;Ue((()=>{n(t,a[t]||o)}),[l.currentTemplate]);let d=a[t]||o;return React.createElement(We.Item,{label:e,className:"getgenie-slider "+r,name:t},React.createElement(Pe,{count:`${d||m}/${c}`}),React.createElement(Ae,{min:m,max:c,...s,value:d,onChange:e=>{n(t,e)}}))}),["getInputs","setInput","sidebar"]),window.getGenie.Components.Common.RequestManager),{ComposeComponents:qe}=window.getGenie.Components.Common.ReduxManager,{Tooltip:$e}=window.antd,{Libs:Ke,Utilities:Ze}=(qe((({content:e,listName:t,getInputs:n,setInput:a,creativityLevel:l,input:o,sidebar:i,contentType:r=""})=>{const s=(e,s)=>{let c,m=n[t];if("like"===e){if(m.find((e=>e.title===s&&e.like)))return;c=m.map((e=>e.title===s?{...e,like:!0,dislike:!1}:e))}else{if(m.find((e=>e.title===s&&e.dislike)))return;c=m.map((e=>e.title===s?{...e,dislike:!0,like:!1}:e))}a(t,c);let d={input:o,output:s,creativity_level:l,feedback_type:e,template_name:r||i.currentTemplate||"unknown",request_hash:i.requestId};je((e=>{}),"contentFeedback",d)};return React.createElement($e,{placement:"bottomRight",title:"Is the output good?"},React.createElement("div",{className:"getgenie-giving-feedback",onClick:e=>e.stopPropagation()},React.createElement("span",{onClick:()=>s("like",e.title)},React.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:""+(e.like?"#0FA958":"none"),d:"M7.81833 4.16667H5.83333V2.08333C5.83333 1.86232 5.74554 1.65036 5.58926 1.49408C5.43298 1.3378 5.22101 1.25 5 1.25H4.96042C4.75208 1.25 4.58333 1.41875 4.58333 1.62708C4.58333 1.92458 4.49542 2.21542 4.33 2.46292L2.91667 4.58333V8.33333L4.48375 8.725C4.55 8.74167 4.61792 8.75 4.68583 8.75H6.35958C6.51444 8.75007 6.66626 8.70699 6.798 8.62559C6.92974 8.54419 7.03619 8.42769 7.10542 8.28917L8.56375 5.3725C8.62724 5.24545 8.6572 5.10428 8.65079 4.9624C8.64438 4.82052 8.60182 4.68263 8.52714 4.56182C8.45246 4.44101 8.34814 4.34129 8.22408 4.27213C8.10003 4.20298 7.96036 4.16667 7.81833 4.16667Z"}),React.createElement("path",{d:"M5.83333 4.16667H7.81833C7.96036 4.16667 8.10003 4.20298 8.22408 4.27213C8.34814 4.34129 8.45246 4.44101 8.52714 4.56182C8.60182 4.68263 8.64438 4.82052 8.65079 4.9624C8.6572 5.10428 8.62724 5.24545 8.56375 5.3725L7.10542 8.28917C7.03619 8.42769 6.92974 8.54419 6.798 8.62559C6.66626 8.70699 6.51444 8.75007 6.35958 8.75H4.68583C4.61792 8.75 4.55 8.74167 4.48375 8.725L2.91667 8.33333M5.83333 4.16667V2.08333C5.83333 1.86232 5.74554 1.65036 5.58926 1.49408C5.43298 1.3378 5.22101 1.25 5 1.25H4.96042C4.75208 1.25 4.58333 1.41875 4.58333 1.62708C4.58333 1.92458 4.49542 2.21542 4.33 2.46292L2.91667 4.58333V8.33333M5.83333 4.16667H5M2.91667 8.33333H2.08333C1.86232 8.33333 1.65036 8.24554 1.49408 8.08926C1.3378 7.93298 1.25 7.72101 1.25 7.5V5C1.25 4.77899 1.3378 4.56702 1.49408 4.41074C1.65036 4.25446 1.86232 4.16667 2.08333 4.16667H3.125",stroke:"#0FA958",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("span",{onClick:()=>s("dislike",e.title)},React.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:""+(e.dislike?"#EA4646":"none"),d:"M2.18166 5.83333H4.16625V7.91667C4.16625 8.13768 4.25404 8.34964 4.41032 8.50592C4.5666 8.6622 4.77857 8.75 4.99958 8.75H5.03958C5.24791 8.75 5.41666 8.58125 5.41666 8.37333C5.41666 8.07542 5.50458 7.78458 5.67 7.53667L7.08333 5.41667L7.08291 1.66667L5.51625 1.275C5.45016 1.25844 5.38229 1.25004 5.31416 1.25H3.64C3.48521 1.25001 3.33348 1.29312 3.20182 1.37452C3.07016 1.45591 2.96377 1.57237 2.89458 1.71083L1.43625 4.6275C1.37276 4.75455 1.3428 4.89572 1.34921 5.0376C1.35562 5.17948 1.39818 5.31737 1.47286 5.43818C1.54754 5.55899 1.65186 5.65871 1.77591 5.72787C1.89997 5.79702 2.03964 5.83333 2.18166 5.83333Z"}),React.createElement("path",{d:"M7.08291 1.66667L5.51625 1.275C5.45016 1.25844 5.38229 1.25004 5.31416 1.25H3.64C3.48521 1.25001 3.33348 1.29312 3.20182 1.37452C3.07016 1.45591 2.96377 1.57237 2.89458 1.71083L1.43625 4.6275C1.37276 4.75455 1.3428 4.89572 1.34921 5.0376C1.35562 5.17948 1.39818 5.31737 1.47286 5.43818C1.54754 5.55899 1.65186 5.65871 1.77591 5.72787C1.89997 5.79702 2.03964 5.83333 2.18166 5.83333H4.16666H5M7.08291 1.66667L7.08333 5.41667L5.67 7.53667C5.50458 7.78458 5.41666 8.07542 5.41666 8.37333C5.41666 8.58125 5.24791 8.75 5.03958 8.75H4.99958C4.77857 8.75 4.5666 8.6622 4.41032 8.50592C4.25404 8.34964 4.16625 8.13768 4.16625 7.91667V5.83333M7.08291 1.66667H7.91666C8.13768 1.66667 8.34964 1.75446 8.50592 1.91074C8.6622 2.06702 8.75 2.27899 8.75 2.5V5C8.75 5.22101 8.6622 5.43298 8.50592 5.58926C8.34964 5.74554 8.13768 5.83333 7.91666 5.83333H6.875",stroke:"#EA4646",strokeLinecap:"round",strokeLinejoin:"round"})))))}),["setInput","getInputs","sidebar"]),window.getGenie.Components.Common),{ComposeComponents:Je}=window.getGenie.Components.Common.ReduxManager,{Sidebar:Xe,BlogWizardUtils:Qe}=window.getGenie.Components,{OutlineScreen:Ye,AnalyzeKeywordScreen:et}=Xe||{},{Col:tt}=window.antd,{useEffect:nt}=wp.element,{Alert:at}=(Je((({sidebar:e,setSidebar:t,setInput:n,getInputs:a})=>{let l=window.getGenie.blogWizardData;const o=window.getGenie.config.isBlockEditor||"post"===window.getGenie.config.wizardScreen;delete l?.post_id,nt((()=>{let e=Object.values(window.getGenie.config?.templateAssets?.languageList||{});e=e.map((e=>({label:e?.language_name,value:e?.language_short_code,writingDirection:e?.language_writing_direction})));let n=Object.values(window.getGenie.config?.templateAssets?.toneOfVoice||{});n=n.map((e=>({label:e,value:e}))),n=n.sort(),n=n.reverse(),t({languages:e,toneOfVoice:n})}),[]),nt((()=>{e.open?document.body.classList.add("disable-scroll"):document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")}),[e.open]),nt((()=>{if(!o)return;a.seoEnabled?a.searchVolume&&["TitleScreen","IntroScreen","OutlineScreen"].includes(e.component)&&t({analyzeKeyword:{open:!0}}):t({analyzeKeyword:{open:!1,loading:!1}})}),[a.searchVolume,a.seoEnabled,e.component]),nt((()=>{if(!o)return;let e=wp.data?.select("core/editor")?.getCurrentPost();if(e?.content&&t({currentPostContent:e.content||""}),l&&Object.values(l).some(Boolean)){t({component:"TitleScreen",currentTemplate:"blogWizard"});for(const[e,a]of Object.entries(l))if(a)if("keywordData"===e){if(a&&Object.values(a).length>0)for(const[e,t]of Object.entries(a))n(e,t)}else if("serpData"===e){if(a&&Object.values(a).length>0)for(const[e,l]of Object.entries(a))"statisticsData"===e?t({statisticsData:l}):n(e,l)}else n(e,a)}}),[]),nt((()=>{if(!o)return;const n=e.statisticsData,l=e.currentPostContent;if(Qe){const e=new Qe.ContentAnalysis(n,l);t({analyzedContent:e})}(a.competitorData||a.questionsAsked)&&Ze.GenieHelpers.callStoreApi("serpData",{competitorData:a.competitorData,questionsAsked:a.questionsAsked,statisticsData:e.statisticsData})}),[e.statisticsData,e.currentPostContent]);let i=Xe[e.component]||(()=>"");return React.createElement(React.Fragment,null,React.createElement(Ke.DrawerWrapper,null,(t=>React.createElement("div",{className:"getgenie-sidebar-content"},React.createElement(tt,{className:"extended-panel"},et&&React.createElement(et,{visible:e.open&&e.analyzeKeyword.open,width:t}),Ye&&React.createElement(Ye.GeneratedOutlines,{visible:e.open&&e.generatedOutlines.open,width:t})),React.createElement(tt,{className:"wizard-screen"},React.createElement(i,null))))))}),["sidebar","setSidebar","setInput","getInputs"]),window.antd),{__:lt}=wp.i18n,{Libs:ot,Utilities:it}=window.getGenie.Components.Common,{HandleFetch:rt}=window.getGenie.Components.Common.RequestManager,{ComposeComponents:st}=window.getGenie.Components.Common.ReduxManager,{useEffect:ct,useState:mt}=wp.element,{__:dt}=wp.i18n,pt=st((({setSidebar:e,sidebar:t,setUserHistoryData:n,userHistoryData:a})=>{const[l,o]=mt(1),[i,r]=mt(!1),s=(e=1)=>{r(!0),rt((t=>{r(!1);const l=(t.data?.history||[]).filter((e=>e?.templateTitle)),o=1===e?l:[...a.allHistory,...l];n({allHistory:o,isCallable:!1})}),"historyData",{page:e})};ct((()=>{a.isCallable&&s()}),[]);return React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-history-sidebar-content"},React.createElement(ot.DrawerHeader,null),React.createElement("div",{className:"getgenie-history-card-container"},a?.allHistory&&React.createElement(ot.Card,{list:a?.allHistory,handleClick:(t,a)=>{e({component:"UserHistoryDetails"}),n({currentHistoryData:a})}},(e=>React.createElement(React.Fragment,null,React.createElement("div",{className:"card-container"},React.createElement("div",{className:"card-heading"},React.createElement("h5",null,e?.date),React.createElement("h3",{"data-slug":e?.templateSlug},it.GenieHelpers.camelCaseToTitleCase(e?.templateTitle))),React.createElement("div",{className:"card-body"},Object.keys(e.input).map((t=>e.input[t]&&React.createElement("p",null," ",React.createElement("strong",null,it.GenieHelpers.camelCaseToTitleCase(t),": "),e.input[t])))))))),i&&React.createElement(ot.SkeletonCard,{count:5}),React.createElement(ot.Button,{onClick:()=>{return e=l+1,o(l+1),void s(e);var e}},"Load More"))))}),["setSidebar","sidebar","setUserHistoryData","userHistoryData"]),{Libs:ut,Utilities:gt}=window.getGenie.Components.Common,{Card:wt,Tooltip:Ct}=window.antd,{ComposeComponents:Rt}=window.getGenie.Components.Common.ReduxManager,{useState:Et}=wp.element,{__:bt}=wp.i18n,ht=Rt((({setSidebar:e,sidebar:t,setUserHistoryData:n,userHistoryData:a})=>{const[l,o]=Et(a.currentHistoryData),[i,r]=Et(null),s=(e,t)=>{let n="";if("string"==typeof e)n=e.replace(/<br\s*[\/]?>/g,"\n");else if(Array.isArray(e)){n=e.join(",").replace(/<br\s*[\/]?>/g,"\n")}T.copyToClipboard(n).then((()=>{r(t),setTimeout((()=>{r(null)}),3e3)}))["catch"]((()=>console.log("error")))};return React.createElement(React.Fragment,null,React.createElement(ut.DrawerHeader,null),React.createElement("div",{className:"getgenie-history-sidebar-content details"},React.createElement("div",{className:"getgenie-history-card-container"},React.createElement("div",{className:"getgenie-card"},React.createElement(wt,{className:"getgenie-history-card-detail"},React.createElement("div",{className:"date"},React.createElement("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M11.6667 2.33334H2.33333C1.59695 2.33334 1 2.9303 1 3.66668V13C1 13.7364 1.59695 14.3333 2.33333 14.3333H11.6667C12.403 14.3333 13 13.7364 13 13V3.66668C13 2.9303 12.403 2.33334 11.6667 2.33334Z",stroke:"#57595F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M9.66675 1V3.66667",stroke:"#57595F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M4.33325 1V3.66667",stroke:"#57595F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M1 6.33334H13",stroke:"#57595F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),React.createElement("span",{className:"date-info"},l?.date)),React.createElement("h3",{className:"getgenie-history-title"},gt.GenieHelpers.camelCaseToTitleCase(l?.templateTitle)),React.createElement("div",{className:"getgenie-history-inputs"},Object.keys(l?.input||{}).map((e=>l.input[e]&&Array.isArray(l.input[e])?React.createElement(React.Fragment,null,React.createElement("h4",null,gt.GenieHelpers.camelCaseToTitleCase(e),":"),React.createElement("div",{className:"getgenie-history-inputs-keywords"},l.input[e].map((e=>React.createElement("p",null," ",e))))):React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-history-inputs-details"},React.createElement("h4",null,gt.GenieHelpers.camelCaseToTitleCase(e),":"),React.createElement("p",null,l.input[e])))))),React.createElement("h4",null,"Outputs:"),React.createElement("div",{className:"getgenie-history-card-container-details"},l.output.map(((e,t)=>React.createElement(React.Fragment,null,"keyword-analysis"===l.templateSlug?React.createElement(Ct,{key:t,title:i===t?"Copied":"Click to copy",trigger:"hover",placement:"left"},React.createElement("div",{className:"getgenie-history-keyword-output",onClick:e=>s(e.target.closest("div.getgenie-history-keyword-output")?.innerText,t)},React.createElement("span",{style:{display:"block"}},React.createElement("strong",null,"keyword: "),e.keyword),React.createElement("div",{className:"getgenie-history-search-volume"},React.createElement("strong",null,"Search volume: "),React.createElement("div",null,React.createElement("span",null,"Average in 12 month:"),React.createElement("span",null,e?.searchVolume?.avg12Month)),React.createElement("div",null,React.createElement("span",null,"Competition:"," "),React.createElement("span",null,e?.searchVolume?.competition)),React.createElement("div",null,React.createElement("span",null,"CPC:"," "),React.createElement("span",null,e?.searchVolume?.cpc?.currency+e?.searchVolume?.cpc?.value)),React.createElement("div",null,React.createElement("span",null,"Highest:"," "),React.createElement("span",null,e?.searchVolume?.highest)),React.createElement("div",null,React.createElement("span",null,"Last month:"," "),React.createElement("span",null,e?.searchVolume?.lastMonth)),React.createElement("div",null,React.createElement("span",null,"Lowest:"," "),React.createElement("span",null,e?.searchVolume?.lowest)),React.createElement("div",null,React.createElement("span",null,"Total:"," "),React.createElement("span",null,e?.searchVolume?.total," "))))):React.createElement(Ct,{key:t,title:i===t?"Copied":"Click to copy",trigger:"hover",placement:"left"},React.createElement("div",{className:"getgenie-history-keyword-output",onClick:()=>s(e,t)},React.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))))))))),React.createElement(ut.DrawerFooter,{prevScreen:"UserHistory"})))}),["setSidebar","sidebar","setUserHistoryData","userHistoryData"]),{Alert:ft}=window.antd,{__:yt}=wp.i18n,{Row:vt,Col:kt}=window.antd,{Libs:St,Utilities:Tt,PromotionalNotice:Nt}=window.getGenie.Components.Common,{__:xt}=wp.i18n,{ComposeComponents:It}=window.getGenie.Components.Common.ReduxManager,{GenieHelpers:Lt}=Tt,Mt=It((({unsupportedLanguages:e,sidebar:t,className:n="",language:a=!0,tone:l=!0,creativity:o=!0,result:i=!0})=>React.createElement(React.Fragment,null,React.createElement(vt,{className:n,gutter:16},a&&React.createElement(kt,{span:12},React.createElement(St.Select,{className:"",handleOnChange:e=>Lt.saveCurrentLanguage(e),name:"selectedLanguage",except:e,label:React.createElement(React.Fragment,null,xt("Language","getgenie"),React.createElement(St.Tooltip,{title:xt("Choose the desired language of your input and the outputs","getgenie"),placement:"top"},"i")),options:t.languages,defaultValue:t.currentLanguage})),l&&React.createElement(kt,{span:12},React.createElement(St.Select,{className:"",handleOnChange:e=>Lt.saveCurrentToneOfVoice(e),name:"selectedTone",label:React.createElement(React.Fragment,null,xt("Tone","getgenie"),React.createElement(St.Tooltip,{title:xt("Define what tone of voice you want the outputs to have","getgenie"),placement:"top"},"i")," "),options:[{label:"Standard",value:"standard"},...t.toneOfVoice,{label:"More coming soon",value:"more"}],disableList:["more"],defaultValue:t.currentToneOfVoice}))),React.createElement(vt,{className:n,style:{marginTop:"10px"},gutter:16},o&&React.createElement(kt,{span:12},React.createElement(St.Slider,{name:"creativity",label:React.createElement(React.Fragment,null,xt("Creativity","getgenie")," ",React.createElement(St.Tooltip,{title:xt("How much creative you want genie to be","getgenie"),placement:"top"},"i")),message:!1,defaultValue:4})),i&&React.createElement(kt,{span:12},React.createElement(St.NumberInput,{name:"numberOfResult",className:"ResultLimitNumberInput",max:6,type:"text",defaultValue:2,label:React.createElement(React.Fragment,null,xt("Results","getgenie")," ",React.createElement(St.Tooltip,{title:xt("Maximum content you want to generate","getgenie"),placement:"top"},"i")),required:!0,errorMessage:xt("Please choose valid limit","getgenie")}))))),["sidebar"]),{Libs:Gt,ContentFeedback:Ht,Utilities:Ot}=window.getGenie.Components.Common,{Alert:Dt,Form:Ft,Tooltip:Vt}=window.antd,{HandleFetch:_t,HandleResponse:zt}=window.getGenie.Components.Common.RequestManager,{ComposeComponents:At}=window.getGenie.Components.Common.ReduxManager,{GenieHelpers:Wt}=Ot,{useState:Pt,useEffect:Bt}=wp.element,{__:Ut}=wp.i18n,jt=[{name:"templateContext",label:"Context",type:"textarea",placeholder:"Enter your text here",required:!0}],qt=At((({setSidebar:e,templates:t,sidebar:n,getInputs:a,setInput:l,contextMenu:o})=>{let i=a.generatedTemplateContents||[];i=[...new Set(i)];const[r,s]=Pt([]),[c,m]=Pt(""),[d,p]=Pt(!1),[u,g]=Pt(jt),[w,C]=Pt(!1),[R,E]=Pt([]),b=n.currentWritingMode,{currentTemplate:h}=n,{isBlockEditor:f,wizardScreen:y}=window.getGenie.config,v=["continueWriting","expandOutline","genieMode","sentence-rewriter","paragraph-rewriter"].includes(h),k=v&&"advance"===b,{selectedText:S,beforeCaret:T}=o.inputContent;Bt((()=>{let a=t.list.map((e=>({value:e.templateSlug,label:e.title,inputFields:e?.inputFields||[]})));a.push({value:"genieMode",label:"Genie Mode"}),s(a),e({analyzeKeyword:{open:!1},generatedOutlines:{...n.generatedOutlines,open:!1}})}),[]),Bt((()=>{"post"===y&&f&&!v&&e({toolbarWriting:!1,insertTextCallback:rn.insertTemplateInPostEditor})}),[h]),Bt((()=>{l("generatedTemplateContents","")}),[S,T]),Bt((()=>{if(!n.open)return;let e=t.list.find((e=>e.templateSlug===h)),a=e?.inputFields;a&&0!==a.length||(a=jt);const o=a[0]?.name;g(a),E(e?.unsupportedLanguages),n.existingInputValue&&l(o,n.existingInputValue);let i=wp.data.select("core/block-editor")?.getSelectedBlock();if(!i)return;let r=i?.attributes?.content||"";if("next-paragraph"===h)r=r.replace(/<br\s*[\/]?>/g,""),r.length>1e3&&(r=r.substring(0,1e3)),l(o,r);else if("next-sentence"===h){let e=document.getSelection(),t=e.focusNode.data||"",n=t.substring(0,e.focusOffset);n=n.substring(0,n.lastIndexOf(".")),n=n.substring(n.lastIndexOf(".")+1),""===n.length&&(n=t.substring(0,n.indexOf("."))),""===n.length&&(n=t.substring(0,e.focusOffset)),l(o,n)}}),[h,n.open]);Bt((()=>{n.open||n.rootContainer.querySelectorAll(".ant-tooltip.generated-content-copied-text").forEach((e=>e.style.visibility="hidden"))}),[n.open]);return React.createElement(React.Fragment,null,React.createElement(Gt.DrawerHeader,null),React.createElement(Ft,{layout:"vertical",className:"getgenie-sidebar-writing-form",onFinish:()=>{let e={},t="writeTemplates";if(["continueWriting","expandOutline","genieMode"].includes(h))e={title:wp.data.select("core/editor").getCurrentPost()?.title||wp.data.select("getgenie").getTemplateInputs()?.blogWizard?.selectedTitle||"",keyword:wp.data.select("getgenie").getTemplateInputs()?.blogWizard?.keyword||"",context:wp.data.select("getgenie").getTemplateInputs()?.blogWizard?.inputContext||"",input:{}},e.input.textContent="expandOutline"===h||"genieMode"===h?S?.replace(/<br\s*[\/]?>/g,"")||a.templateContext:(T+S).replace(/<br\s*[\/]?>/g,""),t=h;else{const t={};for(const e of u)t[e.name]=a[e.name]||"";e={input:t}}e.templateSlug=h,l("generatedTemplateContents",""),C(!0),_t((e=>{C(!1),zt(e,(()=>{let t=e.data.map((e=>({title:e,like:!1,dislike:!1})));l("generatedTemplateContents",t),p(!0),setTimeout((()=>p(!1)),4e3)}))}),t,e)}},React.createElement("div",{className:"getgenie-sidebar-writing"},k?"":React.createElement(Gt.Select,{handleOnChange:t=>{e({currentTemplate:t})},name:"selectedTemplate",className:"getgenie-template-select",defaultValue:h,label:"Select template",options:r}),k?"":u.map((e=>React.createElement(Gt.Textarea,{label:React.createElement("span",null,e?.label||""," ",e?.required?React.createElement("span",{style:{display:"inline-block",color:"red"}},"*"):`(${Ut("Optional","getgenie")})`),name:e?.name,rows:4,placeholder:e?.placeholder,required:e?.required}))),React.createElement(Mt,{language:"genieMode"!==h,tone:"genieMode"!==h,unsupportedLanguages:R}),React.createElement(Gt.Button,{htmlType:"submit",type:"primary",loading:w},Ut("Write","getgenie"))),React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-card-container editor",style:{backgroundColor:0===i.length&&"transparent"}},React.createElement(Gt.Card,{list:i,handleClick:(e,t)=>{n.rootContainer.querySelectorAll(".ant-tooltip.generated-content-copied-text").forEach((e=>e.style.visibility="visible"));let a=t.title.replace(/<br\/>/g,"");Wt.copyToClipboard(a).then((()=>{m(t.title),setTimeout((()=>{m(null)}),2e3)}))["catch"]((()=>console.log("error")))},column:1,skeleton:w?()=>React.createElement(Gt.SkeletonSingle,{count:5}):""},(e=>React.createElement(React.Fragment,null,React.createElement(Vt,{overlayClassName:"generated-content-copied-text",placement:"right",title:c===e.title&&"Copied",visible:c===e.title&&n.open,zIndex:999999},React.createElement("h5",{className:"generated-content"},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}}))),React.createElement(Ht,{content:e,input:a[u[0]?.name]||"",creativityLevel:a.templateCreativityLevel,listName:"generatedTemplateContents"}),(f||["post","elementor"].includes(y))&&React.createElement(Vt,{title:"Insert this content",placement:"topLeft"},React.createElement("span",{className:"getgenie-insert-content getgenie-icon-plus",onClick:t=>((e,t)=>{if(e.stopPropagation(),v)if(["sentence-rewriter","paragraph-rewriter","genieMode"].includes(h))o.contextMenuCallback.rewrite(t,o.insertionField,o.inputContent);else try{o.contextMenuCallback[h](t,o.insertionField,o.inputContent)}catch(a){Gt.ErrorModal({title:Ut("Oops! I'm not sure where to insert the content.","getgenie"),content:Ut("Please click on the field to select where you want the content to be inserted.","getgenie")})}else n.insertTextCallback(t,n.insertTextField)})(t,e.title)}))))),d&&React.createElement(Dt,{className:"template-screen-alert",message:Ut("Click on the text to copy","getgenie"),closeText:Ut("Okay","getgenie"),closable:!0})))),n.toolbarWriting||"#write-for-me"===window.location.hash?"":React.createElement(Gt.DrawerFooter,{prevScreen:"TemplateListScreen"}))}),["setSidebar","templates","sidebar","getInputs","setInput","contextMenu"]),$t=[{title:"Blog Wizard",templateSlug:"blogWizard",description:"Get your blog article SERP-ready — from analyzing the keywords to generating content that ranks",categories:{general:{title:"General",slug:"general"}}},{title:"WooCommerce Wizard",templateSlug:"wooWizard",description:"Get conversion-friendly & SEO-optimized content for WooCommerce Product pages",categories:{general:{title:"General",slug:"general"}}},{title:"Genie Mode",templateSlug:"genieMode",description:"Write anything you want with the help of Genie Mode"}],{Libs:Kt,LicenseNotice:Zt}=window.getGenie.Components.Common,{Divider:Jt,Typography:Xt,Input:Qt}=window.antd,{ComposeComponents:Yt}=window.getGenie.Components.Common.ReduxManager,{useEffect:en,useState:tn}=wp.element,{__:nn}=wp.i18n,an=Yt((({templates:e,setSidebar:t,sidebar:n,setInput:a,getTemplateInputs:l,resetTemplateInputs:o})=>{const i=[...$t,...e.list],[r,s]=tn(i);en((()=>{t({analyzeKeyword:{open:!1},generatedOutlines:{...n.generatedOutlines,open:!1},toolbarWriting:!1,currentWritingMode:"template"}),a("updateContent","")}),[]);return React.createElement(React.Fragment,null,React.createElement(Kt.DrawerHeader,null),React.createElement("div",{className:"getgenie-sidebar-template"},React.createElement(Zt,null),React.createElement(Xt.Title,{level:3},nn("What are we writing","getgenie")),React.createElement(Jt,null),React.createElement("div",{className:"getgenie-template-list"},React.createElement(Qt,{onChange:e=>{let t=e.target.value.toLowerCase(),n=i.filter((e=>e.title.toLowerCase().includes(t)));s(n)},bordered:!1,className:"search-container",placeholder:`${nn("Search","getgenie")}...`,suffix:React.createElement("span",{className:"getgenie-icon-search"})}),React.createElement(Kt.Card,{list:r,handleClick:(e,n)=>{let a="WriteTemplatesScreen";if("blogWizard"==n.templateSlug){if(a="TitleScreen","post"!==window.getGenie.config?.wizardScreen)return void window.open(window.getGenie.config?.wizardScreenUrl?.post,"_blank")}else if("wooWizard"==n.templateSlug){if(!window.getGenie.config?.wcActivated)return void Kt.ErrorModal({title:nn("Plugin not found!","getgenie"),content:nn("WooCommerce is not installed or activated yet.","getgenie")});if(a="wooProductTitle","woo_product"!==window.getGenie.config?.wizardScreen)return void window.open(window.getGenie.config?.wizardScreenUrl?.woo_product,"_blank")}const i=()=>{t({component:a,currentTemplate:n.templateSlug,currentWritingMode:"template"})};l[n.templateSlug]?.keyword?Kt.ConfirmModal(nn("This wizard has generated data","getgenie"),nn("Do you want to erase that data?","getgenie"),(()=>{o(n.templateSlug),i()}),i):i()}},(e=>React.createElement(React.Fragment,null,React.createElement("div",{className:"card-container"},React.createElement("div",{className:"card-icon"},React.createElement("span",{className:"getgenie-icon-Edit"})),React.createElement("div",{className:"card-heading"},React.createElement("h5",{"data-slug":e?.templateSlug},e?.title),React.createElement("p",null,e?.description)))))))))}),["setSidebar","sidebar","templates","setInput","resetTemplateInputs","getTemplateInputs"]),{Libs:ln}=window.getGenie.Components.Common,{__:on}=wp.i18n,rn={insertTemplateInPostEditor:e=>{const t=wp.data.select("getgenie").sidebar();let n=wp.data.select("core/block-editor").getSelectedBlock(),a=n?.clientId,l=n?.attributes?.content,o=wp.data.select("core/block-editor").getBlocks().findIndex((e=>e.clientId===a)),i=e.replace(/<br\s*[\/]?>/g,"\n");if(["sentence-rewriter","paragraph-rewriter","paragraph-answer"].includes(t.currentTemplate)){let e=wp.data.select("getgenie").getInputs()?.updateContent;e&&e(i)}else if("next-paragraph"===t.currentTemplate)wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/paragraph",{content:i}),o+1);else{if(!a)return wp.data.dispatch("getgenie").setSidebar({open:!1}),void ln.ErrorModal({title:on("Insertion Failed!","getgenie"),content:on("No insertion field found!","getgenie")});i=e,l&&(i=" "+i),wp.data.dispatch("core/block-editor").updateBlock(a,{attributes:{content:l+i}}),wp.data.dispatch("getgenie").setSidebar({open:!1})}}};window.getGenie.Components={...window.getGenie.Components,Sidebar:{...window.getGenie.Components.Sidebar||{},TemplateListScreen:an,WriteTemplatesScreen:qt,UserHistory:pt,UserHistoryDetails:ht}}})();